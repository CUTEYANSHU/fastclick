%info

Test against stupid merges

%script
click C

%file C
Idle -> a :: FlowClassifier(VERBOSE 1) -> FlowDispatcher(0/10, 0/12, 0/14) -> Discard;

Idle -> b :: FlowClassifier(VERBOSE 1) -> FlowDispatcher(0/10, 0/12, 0/14, 2/20, 2/22, 2/44) -> Discard;

Idle -> c :: FlowClassifier(VERBOSE 1) -> FlowDispatcher(0/10 0, 0/12 0, 0/14 0, 2/20 1, 2/22 1, 2/44 1) -> Discard;

Idle -> d :: FlowClassifier(VERBOSE 1) -> FlowDispatcher(0/10 0, 0/12 0, 0/14 0, 2/20 1, 2/22 1, 2/44 1) [0-1] => {
    [0] -> FlowDispatcher(18/32) -> Discard;
    [1] -> FlowDispatcher(18/32) -> Discard;}

Script(TYPE ACTIVE, stop);

%expect stderr
Table of b after optimization :
---
0/FF (ARRAY, 3 childs)
|-> 16 UC:1 ED:0 (data 1000000000000000000000000000000000000000)
|-> 18 UC:1 ED:0 (data 1200000000000000000000000000000000000000)
|-> 20 UC:1 ED:0 (data 1400000000000000000000000000000000000000)
|-> DEFAULT
|  2/FF (ARRAY, 3 childs)
|  |-> 32 UC:1 ED:0 (data 2000000000000000000000000000000000000000)
|  |-> 34 UC:1 ED:0 (data 2200000000000000000000000000000000000000)
|  |-> 68 UC:1 ED:0 (data 4400000000000000000000000000000000000000)
|  |-> DEFAULT 0 UC:1 ED:1 (data 0000000000000000ffffffff0000000000000000)
---
Table of c after optimization :
---
0/FF (ARRAY, 3 childs)
|-> 16 UC:1 ED:0 (data 1000000000000000000000000000000000000000)
|-> 18 UC:1 ED:0 (data 1200000000000000000000000000000000000000)
|-> 20 UC:1 ED:0 (data 1400000000000000000000000000000000000000)
|-> DEFAULT
|  2/FF (ARRAY, 3 childs)
|  |-> 32 UC:1 ED:1 (data 2000000000000000010000000000000000000000)
|  |-> 34 UC:1 ED:1 (data 2200000000000000010000000000000000000000)
|  |-> 68 UC:1 ED:1 (data 4400000000000000010000000000000000000000)
|  |-> DEFAULT 0 UC:1 ED:1 (data 0000000000000000ffffffff0000000000000000)
---
Table of a after optimization :
---
0/FF (ARRAY, 3 childs)
|-> 16 UC:1 ED:0 (data 1000000000000000000000000000000000000000)
|-> 18 UC:1 ED:0 (data 1200000000000000000000000000000000000000)
|-> 20 UC:1 ED:0 (data 1400000000000000000000000000000000000000)
|-> DEFAULT 0 UC:1 ED:1 (data 0000000000000000ffffffff0000000000000000)
---
Table of d after optimization :
---
0/FF (ARRAY, 3 childs)
|-> 16
|  18/FF (TWOCASE, 1 childs)
|  |-> 50 UC:1 ED:0 (data 3200000000000000000000000000000000000000)
|  |-> DEFAULT 0 UC:1 ED:1 (data 000000000000000000000000ffffffff00000000)
|-> 18
|  18/FF (TWOCASE, 1 childs)
|  |-> 50 UC:1 ED:0 (data 3200000000000000000000000000000000000000)
|  |-> DEFAULT 0 UC:1 ED:1 (data 000000000000000000000000ffffffff00000000)
|-> 20
|  18/FF (TWOCASE, 1 childs)
|  |-> 50 UC:1 ED:0 (data 3200000000000000000000000000000000000000)
|  |-> DEFAULT 0 UC:1 ED:1 (data 000000000000000000000000ffffffff00000000)
|-> DEFAULT
|  2/FF (ARRAY, 3 childs)
|  |-> 32
|  |  18/FF (TWOCASE, 1 childs)
|  |  |-> 50 UC:1 ED:0 (data 3200000000000000010000000000000000000000)
|  |  |-> DEFAULT 0 UC:1 ED:1 (data 00000000000000000100000000000000ffffffff)
|  |-> 34
|  |  18/FF (TWOCASE, 1 childs)
|  |  |-> 50 UC:1 ED:0 (data 3200000000000000010000000000000000000000)
|  |  |-> DEFAULT 0 UC:1 ED:1 (data 00000000000000000100000000000000ffffffff)
|  |-> 68
|  |  18/FF (TWOCASE, 1 childs)
|  |  |-> 50 UC:1 ED:0 (data 3200000000000000010000000000000000000000)
|  |  |-> DEFAULT 0 UC:1 ED:1 (data 00000000000000000100000000000000ffffffff)
|  |-> DEFAULT 0 UC:1 ED:1 (data 0000000000000000ffffffff0000000000000000)
---

