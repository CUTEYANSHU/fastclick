%info
Test with child rules

It is actually not possible for f and g to be true,
f and g result in always drop. It is not possible to have 0/10 and 0/12 on the same path, idem for g.

%script
click C

%file C
Idle -> a :: FlowClassifier(VERBOSE 1) -> FlowDispatcher(0/10 4/20) -> Discard;

Idle -> b :: FlowClassifier(VERBOSE 1) -> FlowDispatcher(4/20 0/10) -> Discard;


Script(TYPE ACTIVE, stop);

%expect stderr
Table of a after optimization :
---
0/FF (TWOCASE, 1 childs)
|-> 16
|  4/FF (TWOCASE, 1 childs)
|  |-> 32 UC:1 ED:0 (data 200000000000000000000000)
|  |-> DEFAULT 0 UC:1 ED:1 (data 0000000000000000ffffffff)
|-> DEFAULT 0 UC:1 ED:1 (data 0000000000000000ffffffff)
---
Table of b after optimization :
---
4/FF (TWOCASE, 1 childs)
|-> 32
|  0/FF (TWOCASE, 1 childs)
|  |-> 16 UC:1 ED:0 (data 100000000000000000000000)
|  |-> DEFAULT 0 UC:1 ED:1 (data 0000000000000000ffffffff)
|-> DEFAULT 0 UC:1 ED:1 (data 0000000000000000ffffffff)
---

